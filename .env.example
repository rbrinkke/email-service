# ============================================================
# REDIS CONFIGURATION
# ============================================================
REDIS_HOST=redis-email
REDIS_PORT=6379

# ============================================================
# EMAIL PROVIDER CREDENTIALS
# ============================================================
SENDGRID_API_KEY=your_sendgrid_api_key_here
MAILGUN_API_KEY=your_mailgun_api_key_here

# SMTP Configuration (for local testing or SMTP provider)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_smtp_password_here
SMTP_USE_TLS=true

# ============================================================
# LOGGING CONFIGURATION
# ============================================================

# Global log level for the application
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
#
# Development: Use DEBUG to see all application logs
# Production: Use INFO or WARNING to reduce noise and costs
# Troubleshooting: Temporarily set to DEBUG to diagnose issues
#
# Default: DEBUG (development), INFO (production recommended)
LOG_LEVEL=DEBUG

# Environment identifier (appears in logs)
# Options: development, staging, production
#
# This helps distinguish logs from different environments
# when aggregating logs from multiple deployments.
#
# Default: development
ENVIRONMENT=development

# Log format (for future structured logging implementation)
# Options: text, json
#
# text: Human-readable format for development
# json: Machine-parseable format for production log aggregation
#
# Note: JSON format will be available in Phase 4
# Default: text
LOG_FORMAT=text

# ============================================================
# ADVANCED LOGGING (Optional - Fine-grained Control)
# ============================================================
# Override log level for specific loggers
# Format: LOGGER_LEVEL_<logger_name>=<level>
#
# Examples:
# LOGGER_LEVEL_REDIS=DEBUG          # Debug Redis connection issues
# LOGGER_LEVEL_UVICORN_ERROR=DEBUG  # Debug Uvicorn server issues
# LOGGER_LEVEL_PROVIDERS=DEBUG      # Debug email provider issues
# LOGGER_LEVEL_ASYNCIO=INFO         # Show asyncio info (normally WARNING)
#
# Uncomment as needed for troubleshooting:
# LOGGER_LEVEL_REDIS=WARNING
# LOGGER_LEVEL_PROVIDERS_SMTP_PROVIDER=DEBUG

# ============================================================
# SERVICE AUTHENTICATION (Service-to-Service Security)
# ============================================================

# Enable/disable service token authentication
# Options: true, false
#
# Development: Can set to 'false' for testing without tokens
# Production: MUST be 'true' for security
#
# Default: true
SERVICE_AUTH_ENABLED=true

# Token prefix for validation (prevents accidents with other secrets)
# All service tokens must start with this prefix
#
# Recommended formats:
# - Development: st_dev_
# - Staging: st_staging_
# - Production: st_live_
#
# Default: st_
SERVICE_TOKEN_PREFIX=st_dev_

# ============================================================
# SERVICE TOKENS (One per calling service)
# ============================================================
# Format: SERVICE_TOKEN_<SERVICE_NAME>=st_<env>_<40_random_hex_chars>
#
# Generate new tokens with:
#   python scripts/generate_service_token.py
#
# Or manually with:
#   python -c "import secrets; print(f'st_dev_{secrets.token_hex(20)}')"
#
# SECURITY NOTES:
# - NEVER commit real tokens to git
# - Use different tokens for dev/staging/production
# - Rotate tokens periodically (every 90 days recommended)
# - Each calling service should have its own unique token
# ============================================================

# Main FreeFace application (user management, social features)
SERVICE_TOKEN_MAIN_APP=st_dev_0000000000000000000000000000000000000000

# User authentication service
SERVICE_TOKEN_USER_SERVICE=st_dev_1111111111111111111111111111111111111111

# Notification service (push, in-app notifications)
SERVICE_TOKEN_NOTIFICATION=st_dev_2222222222222222222222222222222222222222

# Admin dashboard / management panel
SERVICE_TOKEN_ADMIN_PANEL=st_dev_3333333333333333333333333333333333333333

# Marketing automation service (campaigns, newsletters)
SERVICE_TOKEN_MARKETING=st_dev_4444444444444444444444444444444444444444

# API Caller Service (General purpose API integration)
SERVICE_TOKEN_API_CALLER=st_dev_5555555555555555555555555555555555555555

# ============================================================
# TOKEN ROTATION (Advanced - Optional)
# ============================================================
# Support multiple valid tokens per service for zero-downtime rotation
#
# During rotation:
# 1. Add new token as _PRIMARY
# 2. Keep old token as _SECONDARY
# 3. Update calling service to use new token
# 4. After 24h grace period, remove _SECONDARY
#
# Example:
# SERVICE_TOKEN_MAIN_APP_PRIMARY=st_live_new_token_here...
# SERVICE_TOKEN_MAIN_APP_SECONDARY=st_live_old_token_here...
# ============================================================

# ============================================================
# SERVICE RATE LIMITING (Future Feature - Not Yet Implemented)
# ============================================================
# Per-service daily email quotas (future enhancement)
# Format: SERVICE_RATE_LIMIT_<SERVICE_NAME>=<emails_per_day>
#
# Examples:
# SERVICE_RATE_LIMIT_MAIN_APP=10000        # 10k emails/day
# SERVICE_RATE_LIMIT_MARKETING=50000       # 50k emails/day
# SERVICE_RATE_LIMIT_NOTIFICATION=5000     # 5k emails/day
# ============================================================